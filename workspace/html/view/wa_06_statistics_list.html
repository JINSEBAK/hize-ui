<!DOCTYPE html>
<html lang="ko">
    <head>
        @@include('../common/resources.html', { "type" : "admin" })
    </head>
    <body>

        <!-- header -->
        @@include('../common/header.html', { "active" : "활성화되어야하는 메뉴" })
       
        <div class="container-fluid">
            <div class="row">

                <!-- gnb -->
                @@include('../common/navigation.html')

                <!-- contents -->
                <div class="main">
                    @@include('../common/title.html', { "title" : "매출 통계", "sub" : "주식 서비스 통계를 확인할 수 있습니다." })
                
                    <div class="contents">
                        <!-- 검색 -->
                        <div class="area-search statistics">
                            <div class="form-inline">
                                <div class="date-twin date-type">
                                    <label for="">구분</label>
                                    <div class="btn-group date-type" role="group" aria-label="">
                                        <button type="button" class="btn btn-default active" data-type="month">월별</button>
                                        <button type="button" class="btn btn-default" data-type="terms">기간</button>
                                    </div>
                                </div>
                                <div class="date-twin date-twin-month">
                                    <label for="">기간</label>
                                    <select class="form-control" id="selectYears"></select>
                                    <select class="form-control" id="selectMonth"></select>
                                </div>
                                <div class="date-twin date-twin-terms" style="display:none;">
                                    <label for="">기간</label>
                                    <div class="date-inline">
                                        <div class="date-box">
                                            <input type="text" class="form-control datepicker" placeholder="시작일">
                                            <span class="glyphicon glyphicon-calendar"></span> 
                                        </div>
                                        <div class="date-box">
                                            <input type="text" class="form-control datepicker" placeholder="종료일">
                                            <span class="glyphicon glyphicon-calendar"></span> 
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-secondary btn-search">검색</button>
                                </div>
                            </div>
                        </div>

                        <!-- 목록 -->
                        <div class="area-list">

                            <div class="panel panel-default summary-info">
                                <div class="terms">2021.05.01 ~ 2021.05.31</div>
                                <div class="counter">
                                    <div class="counter-info"><small>총 매출액</small> 70,000,000<small>원</small></div>
                                    <div class="counter-info"><small>총 회원수 노출</small> 1,000<small>원</small></div>
                                    <div class="counter-info"><small>수익률</small> 2,100<small>%</small></div>
                                </div>
                            </div>

                            <div class="area-list-header">
                                <div class="pull-left">
                                    Total <span class="count">30</span>
                                </div>
                                <div class="pull-right">
                                    <select class="form-control" style="width: 200px">
                                        <option>전체</option>
                                        <option>유지</option>
                                        <option>폐쇄</option>
                                    </select>
                                </div>
                            </div>
                            <div class="area-list-body">
                                <table class="table table-bordered data-list product-list">
                                    <thead>
                                        <tr>
                                            <th>No.</th>
                                            <th>날짜 <span class="glyphicon glyphicon-sort-by-attributes-alt"></span></th>
                                            <th>채팅방명</th>
                                            <th>일별 매출액 <span class="glyphicon glyphicon-sort-by-attributes-alt"></span></th>
                                            <th>일별 회원수 <span class="glyphicon glyphicon-sort-by-attributes-alt"></span></th>
                                            <th>일별 수익률(%) <span class="glyphicon glyphicon-sort-by-attributes-alt"></span></th>
                                            <th>상태</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>30</td>
                                            <td>YYYY.MM.DD</td>
                                            <td><span class="ellipsis">성공투자주식방-1</span></td>
                                            <td>70,000,000</td>
                                            <td>100</td>
                                            <td>50</td>
                                            <td>유지</td>
                                        </tr>
                                        <tr>
                                            <td>29</td>
                                            <td>YYYY.MM.DD</td>
                                            <td><span class="ellipsis">성공의 지름길! 자신감있는 종목을 콕 집어드립니다.</span></td>
                                            <td>100,000,000</td>
                                            <td>90</td>
                                            <td>80</td>
                                            <td>폐쇄</td>
                                        </tr>
                                        <tr>
                                            <td>28</td>
                                            <td>YYYY.MM.DD</td>
                                            <td><span class="ellipsis">채팅방명</span></td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>상태</td>
                                        </tr>
                                        <tr>
                                            <td>27</td>
                                            <td>YYYY.MM.DD</td>
                                            <td><span class="ellipsis">채팅방명</span></td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>상태</td>
                                        </tr>
                                        <tr>
                                            <td>26</td>
                                            <td>YYYY.MM.DD</td>
                                            <td><span class="ellipsis">채팅방명</span></td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>상태</td>
                                        </tr>
                                        <tr>
                                            <td>25</td>
                                            <td>YYYY.MM.DD</td>
                                            <td><span class="ellipsis">채팅방명</span></td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>상태</td>
                                        </tr>
                                        <tr>
                                            <td>24</td>
                                            <td>YYYY.MM.DD</td>
                                            <td><span class="ellipsis">채팅방명</span></td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>상태</td>
                                        </tr>
                                        <tr>
                                            <td>23</td>
                                            <td>YYYY.MM.DD</td>
                                            <td><span class="ellipsis">채팅방명</span></td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>상태</td>
                                        </tr>
                                        <tr>
                                            <td>22</td>
                                            <td>YYYY.MM.DD</td>
                                            <td><span class="ellipsis">채팅방명</span></td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>상태</td>
                                        </tr>
                                        <tr>
                                            <td>21</td>
                                            <td>YYYY.MM.DD</td>
                                            <td><span class="ellipsis">채팅방명</span></td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>상태</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- scripts -->
        @@include('../common/scripts.html')
        <script>
            $(function() {

                // 년도, 월 option 만들기
                var minYear = 2021;

                var current = new Date();
                var currentYear = current.getFullYear();
                while ( currentYear >= minYear ) {
                    $('#selectYears').append('<option value="' + currentYear + '">' + currentYear  + '년' + '</option>');
                    currentYear--;
                }
                
                var month = 1;
                while ( month <= 12 ) {
                    $('#selectMonth').append('<option value="' + month + '">' + month  + '월' + '</option>');
                    month++;
                }
                $('#selectMonth').val( 5 ); 


                // datepicker
                $('.datepicker').datepicker({
                    defaultDate: new Date()
                });


                $('.data-list thead').find('span').on('click', function() {
                    var classList = $(this).attr('class');
                    if ( $(this).hasClass('glyphicon-sort-by-attributes-alt') ) {
                        $(this).removeClass('glyphicon-sort-by-attributes-alt');
                        $(this).addClass('glyphicon-sort-by-attributes');
                    } else {
                        $(this).removeClass('glyphicon-sort-by-attributes');
                        $(this).addClass('glyphicon-sort-by-attributes-alt');
                    }
                });

                // 상세 화면으로 이동
                $('.data-list tbody tr').on('click', function() {
                    window.location.href = './wa_06_statistics_detail.html';
                });

                // 
                $('.date-type').find('button').on('click', function() {
                    $('.date-type .btn').removeClass('active');
                    $(this).addClass('active');

                    //getStatisticsTerms($(this).data('type'));
                    
                    $('.date-twin').not('.date-type').css('display', 'none');
                    $('.date-twin-' + $(this).data('type') ).fadeIn();
                    
                });
            });

        </script>
    </body>
</html>