<!DOCTYPE html>
<html lang="ko">
    <head>
        @@include('../common/resources.html', { "type" : "admin" })
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">
    </head>
    <body>

        <!-- header -->
        @@include('../common/header.html', { "active" : "활성화되어야하는 메뉴" })
       
        <div class="container-fluid">
            <div class="row">

                <!-- gnb -->
                @@include('../common/navigation.html')

                <!-- contents -->
                <div class="main">
                    @@include('../common/title.html', { "title" : "채팅방 생성", "sub" : "채팅방을 생성할 수 있습니다." })
                
                    <div class="contents">
                  
                        <!-- contents -->
                        <div class="detail-content">
                            <!-- 채팅방 정보 -->
                            <h4 class="detail-content-hd">기본정보</h4>
                            <table class="table table-form">
                                <colgroup>
                                    <col style="width: 12%">
                                    <col style="width: 38%">
                                    <col style="width: 12%">
                                    <col style="width: 38%">
                                </colgroup>
                                <tbody>
                                    <tr>
                                        <th>채팅방명</th>
                                        <td>
                                            <input type="text" class="form-control" placeholder="최대 20자 입력" maxlength="20">
                                        </td>
                                        <th>채팅방 생성자</th>
                                        <td>
                                            <span class="data">park77(박홍식)</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>채팅방 소개</th>
                                        <td>
                                            <div class="form-content">
                                                <textarea class="form-control" placeholder="최대 80자 입력"></textarea>
                                                <div class="count">
                                                    <span class="txt-length">0</span>
                                                    <span>80</span>
                                                </div>
                                            </div>
                                        </td>
                                        <th rowspan="2">대표이미지</th>
                                        <td rowspan="2">
                                            <div class="img-file-box">
                                                <div class="img-thumb">
                                                    <img src="" alt="">
                                                </div>
                                                <div class="file-func">
                                                    <div class="pull-left">
                                                        <ul class="sm-guide">
                                                            <li>권장 사이즈: 500px * 500px</li>
                                                            <li>파일용량 3M 이하 jpg, png만 가능</li>
                                                        </ul>
                                                    </div>
                                                    <div class="pull-right">
                                                        <label type="button" class="btn btn-secondary btn-file" for="chatThumbnailImg">
                                                            찾기
                                                            <input type="file" id="chatThumbnailImg" >
                                                        </label>
                                                    </div>
                                                </div>

                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>구분</th>
                                        <td>
                                            <div class="radio">
                                                <label>
                                                    <input type="radio" name="chat-price" value="1" checked onchange="javascript: setChatPrice('1');">
                                                    유료
                                                </label>
                                                <label>
                                                    <input type="radio" name="chat-price" value="2"  onchange="javascript: setChatPrice('2');">
                                                    무료
                                                </label>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                                <table class="table table-form">
                            </table>


                            <h4 class="detail-content-hd">설정</h4>
                            <table class="table table-form">
                                <colgroup>
                                    <col style="width: 12%">
                                    <col style="width: 38%">
                                    <col style="width: 12%">
                                    <col style="width: 38%">
                                </colgroup>
                                <tbody>
                                    <tr>
                                        <th>관리자</th>
                                        <td colspan="3">
                                            <div class="fx fx-mg">
                                                <div class="mg-groups">
                                                    <span class="ph">관리자를 추가해주세요.</span>
                                                    <!-- <div class="mg-pouch">
                                                        <span>hongadmin</span>
                                                        <span>(홍길동)</span>
                                                        <span class="glyphicon glyphicon-minus icon-del"></span>
                                                    </div>

                                                    <div class="mg-pouch">
                                                        <span>parkadmin</span>
                                                        <span>(박나래)</span>
                                                        <span class="glyphicon glyphicon-minus icon-del"></span>
                                                    </div> -->
                                                </div>
                                                <button class="btn btn-secondary" data-toggle="modal" data-target="#modalManagerList">추가</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>채팅유형</th>
                                        <td>
                                            <div class="radio">
                                                <label>
                                                    <input type="radio" name="chat-type" value="1" checked>
                                                    일반 채팅
                                                </label>
                                                <label>
                                                    <input type="radio" name="chat-type" value="2">
                                                    1:n 채팅
                                                </label>
                                            </div>
                                        </td>
                                        <th>최대인원</th>
                                        <td>
                                            <input type="number" class="form-control" placeholder="" value="1000">
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>기간</th>
                                        <td>
                                            <div class="date-inline">
                                                <div class="date-box">
                                                    <input type="text" class="form-control datepicker" placeholder="시작날짜" value="">
                                                    <span class="glyphicon glyphicon-calendar"></span> 
                                                </div>
                                                <div class="date-box">
                                                    <input type="text" class="form-control datepicker" placeholder="종료날짜" value="">
                                                    <span class="glyphicon glyphicon-calendar"></span> 
                                                </div>
                                            </div>
                                        </td>
                                        <th>지난 대화내용</th>
                                        <td>
                                            <div class="radio">
                                                <label>
                                                    <input type="radio" name="chat-history" value="1" checked>
                                                    노출
                                                </label>
                                                <label>
                                                    <input type="radio" name="chat-history" value="2" >
                                                    미노출
                                                </label>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>방해금지 시간</th>
                                        <td colspan="3">
                                            <div class="form-inline-set">
                                                <div class="radio">
                                                    <label>
                                                        <input type="radio" name="alarm-protect" value="0" checked onchange="javascript: setAlarmProtect('off');">
                                                        OFF
                                                    </label>
                                                    <label>
                                                        <input type="radio" name="alarm-protect" value="1" onchange="javascript: setAlarmProtect('on');">
                                                        ON
                                                    </label>
                                                </div>
                                                <div class="time-inline">
                                                    <input type="text" class="form-control timepicker" placeholder="시작시간" disabled>
                                                    <span class="dash">~</span>
                                                    <input type="text" class="form-control timepicker" placeholder="종료시간" disabled>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>파일 첨부 기능</th>
                                        <td colspan="3">
                                            <div class="radio">
                                                <label>
                                                    <input type="radio" name="file-attachment" value="0" checked>
                                                    OFF
                                                </label>
                                                <label>
                                                    <input type="radio" name="file-attachment" value="1" >
                                                    ON
                                                </label>
                                            </div>
                                        </td>
                                    </tr>
                                    <!-- 무료 채팅방일 때만 노출 -->
                                    <tr class="free-product" style="display: none;">
                                        <th>인증번호 설정</th>
                                        <td colspan="3">
                                            <div class="form-inline-set">
                                                <div class="radio">
                                                    <label>
                                                        <input type="radio" name="certify-num" value="0" checked onchange="javascript: setCertifyNumber('off');">
                                                        OFF
                                                    </label>
                                                    <label>
                                                        <input type="radio" name="certify-num" value="1" onchange="javascript: setCertifyNumber('on');">
                                                        ON
                                                    </label>
                                                </div>
                                                <div class="time-inline">
                                                    <input type="number" class="form-control" placeholder="숫자 4자리 입력" disabled id="certifyNumber" maxlength="4">
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- btns -->
                        <div class="btn-groups">
                            <div class="pull-right">
                                <button class="btn btn-primary">채팅방 생성</button>
                            </div>
                        </div>
    
                    </div>
                </div>
            </div>
        </div>

        <!-- 관리자 추가 팝업 -->
        @@include('./inside/wa_05_produce_register_popup.html')

        <!-- scripts -->
        @@include('../common/scripts.html')
        <script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
        <script>
            $(function() {
                // datepicker
                $('.datepicker').datepicker({
                    dateFormat: 'yyyy.mm.dd'
                });

                // timepicker
                $('.timepicker').timepicker();

                // tab check
                $('a[data-toggle="tab"]').on('show.bs.tab', function(e) {
                    if ( e.target.href.split('#')[1] === 'tabInfo' ) {
                        $('#modifyBtns').css('display', 'none');
                    } else {
                        $('#modifyBtns').fadeOut();
                    }
                });

                $('textarea').on('change keyup paste', function() {
                    var len = $(this).val().length;
                    if ( len <= 80 ) {
                        $(this).next('.count').find('.txt-length').text(len);
                    } else {
                        callAlert({ title: '입력 불가', description: '채팅방 소개는 80자까지만 등록 가능합니다.' });
                    }
                    $(this).val( $(this).val().substring(0, 80) );
                });
                
            });

            function setChatPrice(mode) {
                if ( mode === '1' ) {
                    // 유료
                    $('.free-product').css('display', 'none');
                } else {
                    $('.free-product').fadeIn();
                }
            }
            function setAlarmProtect(mode) {
                if ( mode === 'off' ) {
                    $('.timepicker').attr('disabled', true);
                } else {
                    $('.timepicker').removeAttr('disabled');
                }
            }

            function setCertifyNumber(mode) {
                if ( mode === 'off' ) {
                    $('#certifyNumber').attr('disabled', true);
                } else {
                    $('#certifyNumber').removeAttr('disabled');
                }
            }
        </script>
    </body>
</html>